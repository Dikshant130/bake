$(document).ready((function(){AOS.init({disable:"mobile"}),function(){if("requestAnimationFrame"in window&&!/Mobile|Android/.test(navigator.userAgent)){var n=[];if($("[data-bs-parallax-bg]").each((function(){var e=$(this),t=$("<div>");t.css({backgroundImage:e.css("background-image"),backgroundSize:"cover",backgroundPosition:"center",position:"absolute",height:"200%",width:"100%",top:0,left:0,zIndex:-100}),t.appendTo(e),n.push(t[0]),e.css({position:"relative",background:"transparent",overflow:"hidden"})})),n.length){var e,t=[];$(window).on("scroll resize",a),a()}}function a(){t.length=0;for(var a=0;a<n.length;a++){var i=n[a].parentNode.getBoundingClientRect();i.bottom>0&&i.top<window.innerHeight&&t.push({rect:i,node:n[a]})}cancelAnimationFrame(e),t.length&&(e=requestAnimationFrame(o))}function o(){for(var n=0;n<t.length;n++){var e=t[n].rect,a=t[n].node,o=Math.max(e.bottom,0)/(window.innerHeight+e.height);a.style.transform="translate3d(0, "+-50*o+"%, 0)"}}}()})),function(n){"use strict";n('a.js-scroll-trigger[href*="#"]:not([href="#"])').click((function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=n(this.hash);if((e=e.length?e:n("[name="+this.hash.slice(1)+"]")).length)return n("html, body").animate({scrollTop:e.offset().top-48},1e3,"easeInOutExpo"),!1}})),n(".js-scroll-trigger").click((function(){n(".navbar-collapse").collapse("hide")})),n("body").scrollspy({target:"#mainNav",offset:54});var e=function(){n("#mainNav").offset().top>100?n("#mainNav").addClass("navbar-shrink"):n("#mainNav").removeClass("navbar-shrink")};e(),n(window).scroll(e)}(jQuery);

$(document).ready(function () {
     $("#btnSend").click(function () {
         try{
             var data = [];
             $("#contactForm input[type='text'], #contactForm textarea, #contactForm input[type='tel'],#contactForm input[type='email']").each(function () {
                 var val = $(this).val().trim();                 
                 if(val.length > 0) data.push({ Key: "$" + $(this).attr("name") + "$", Value: val });
             });
	     if(!contactForm.reportValidity()){
		alert("Please fill out all required fields.");
                 return false;
	     }
             else {
                 new serviceProxy().invoke("https://api.sistech.us/usr/restful/taskmanager.svc/", "Email/ContactRequest/form", { form: data }, function () {
                     alert("Your message has been sent and we will contact you shortly. Thank you!");
		     $("#btnSend").hide();
	 	     $("#contactForm input[type='text'], #contactForm textarea ,#contactForm input[type='tel'], #contactForm input[type='email']").each(function () {
                 	$(this).val("");
             	     });
                 }, function (err) { alert(err); }, false, "POST");
             }
         }
         catch (ex) {
             alert(ex.message);
         }
         return false;
     });

        $("#psinput").keypress(function(e){
            var code = (e.keyCode ? e.keyCode : e.which);
             if(code == 13) {
                $("#searchbtn").trigger("click");
                return false;
             }
        });
        $("#searchbtn").click(function(){ 
            var input = $("#psinput");
            if(input.val().length == 0){
                return false;
            }
            else{
                window.location= "/en/products/search/"+ input.val().replace(/\//g, "%20");
                return false;
            }
        });
});
this.serviceProxy = function () {
            var _I = this;
            this.invoke = function (url, method, data, callback, error, bare, verb) {
                var json = JSON.stringify(data);
                jQuery.support.cors = true;
                $.ajax({
                    url: url + method,
                    data: json,
                    type: verb,
                    //dataType: 'text',
                    contentType: "application/json; charset=utf-8",
                    processData: false,
                    timeout: 300000,
                    success: function (res) {
                        if (!callback) {
                            return;
                        }
                        else if (!res) {
                            callback(null);
                            return;
                        }
                        else callback(res);

                    },
                    error: function (xhr) {
                        if (!error) return;
                        if (xhr.responseText && xhr.responseText.length > 0) {
                            try {
                                error(JSON.parse(xhr.responseText).Message);
                            }
                            catch (ex) {
                                error(ex + " : " + xhr.responseText);
                            }
                        }
                        else if (xhr == null || xhr.length == "") {
                            error("Unknow Server Error");
                        }
                        else error(xhr);
                        return;
                    }
                });
            }
        };